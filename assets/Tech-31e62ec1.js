import{B as X,c as T,M as H,F as G,u as Z,d as S,T as z,r as c,g as q,E as P,h as R,O as v,_ as J,i as K,k as Q,l as Y,j as f,C as V,S as tt,s as I,n as et}from"./index-dcf8d8cf.js";import{L as ot}from"./Loader-74f3aede.js";class rt extends X{constructor(p,x,d,w){super();const y=[],A=[],O=[],l=new T,M=new H;M.makeRotationFromEuler(d),M.setPosition(x);const B=new H;B.copy(M).invert(),k(),this.setAttribute("position",new G(y,3)),this.setAttribute("normal",new G(A,3)),this.setAttribute("uv",new G(O,2));function k(){let t,e=[];const r=new T,n=new T;if(p.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const s=p.geometry,E=s.attributes.position,g=s.attributes.normal;if(s.index!==null){const u=s.index;for(t=0;t<u.count;t++)r.fromBufferAttribute(E,u.getX(t)),n.fromBufferAttribute(g,u.getX(t)),j(e,r,n)}else for(t=0;t<E.count;t++)r.fromBufferAttribute(E,t),n.fromBufferAttribute(g,t),j(e,r,n);for(e=m(e,l.set(1,0,0)),e=m(e,l.set(-1,0,0)),e=m(e,l.set(0,1,0)),e=m(e,l.set(0,-1,0)),e=m(e,l.set(0,0,1)),e=m(e,l.set(0,0,-1)),t=0;t<e.length;t++){const u=e[t];O.push(.5+u.position.x/w.x,.5+u.position.y/w.y),u.position.applyMatrix4(M),y.push(u.position.x,u.position.y,u.position.z),A.push(u.normal.x,u.normal.y,u.normal.z)}}function j(t,e,r){e.applyMatrix4(p.matrixWorld),e.applyMatrix4(B),r.transformDirection(p.matrixWorld),t.push(new N(e.clone(),r.clone()))}function m(t,e){const r=[],n=.5*Math.abs(w.dot(e));for(let s=0;s<t.length;s+=3){let E,g,u,W=0,i,h,b,D;const _=t[s+0].position.dot(e)-n,C=t[s+1].position.dot(e)-n,$=t[s+2].position.dot(e)-n;switch(E=_>0,g=C>0,u=$>0,W=(E?1:0)+(g?1:0)+(u?1:0),W){case 0:{r.push(t[s]),r.push(t[s+1]),r.push(t[s+2]);break}case 1:{if(E&&(i=t[s+1],h=t[s+2],b=a(t[s],i,e,n),D=a(t[s],h,e,n)),g){i=t[s],h=t[s+2],b=a(t[s+1],i,e,n),D=a(t[s+1],h,e,n),r.push(b),r.push(h.clone()),r.push(i.clone()),r.push(h.clone()),r.push(b.clone()),r.push(D);break}u&&(i=t[s],h=t[s+1],b=a(t[s+2],i,e,n),D=a(t[s+2],h,e,n)),r.push(i.clone()),r.push(h.clone()),r.push(b),r.push(D),r.push(b.clone()),r.push(h.clone());break}case 2:{E||(i=t[s].clone(),h=a(i,t[s+1],e,n),b=a(i,t[s+2],e,n),r.push(i),r.push(h),r.push(b)),g||(i=t[s+1].clone(),h=a(i,t[s+2],e,n),b=a(i,t[s],e,n),r.push(i),r.push(h),r.push(b)),u||(i=t[s+2].clone(),h=a(i,t[s],e,n),b=a(i,t[s+1],e,n),r.push(i),r.push(h),r.push(b));break}}}return r}function a(t,e,r,n){const s=t.position.dot(r)-n,E=e.position.dot(r)-n,g=s/(s-E);return new N(new T(t.position.x+g*(e.position.x-t.position.x),t.position.y+g*(e.position.y-t.position.y),t.position.z+g*(e.position.z-t.position.z)),new T(t.normal.x+g*(e.normal.x-t.normal.x),t.normal.y+g*(e.normal.y-t.normal.y),t.normal.z+g*(e.normal.z-t.normal.z)))}}}class N{constructor(p,x){this.position=p,this.normal=x}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const U=o=>o===Object(o)&&!Array.isArray(o)&&typeof o!="function";function F(o,p){const x=Z(w=>w.gl),d=S(z,U(o)?Object.values(o):o);if(c.useLayoutEffect(()=>{p==null||p(d)},[p]),c.useEffect(()=>{(Array.isArray(d)?d:[d]).forEach(x.initTexture)},[x,d]),U(o)){const w=Object.keys(o),y={};return w.forEach(A=>Object.assign(y,{[A]:d[w.indexOf(A)]})),y}else return d}F.preload=o=>S.preload(z,o);F.clear=o=>S.clear(z,o);function st(o){return Array.isArray(o)}function L(o=[0,0,0]){return st(o)?o:o instanceof T||o instanceof P?[o.x,o.y,o.z]:[o,o,o]}const nt=c.forwardRef(function({debug:p,depthTest:x=!1,polygonOffsetFactor:d=-10,map:w,mesh:y,children:A,position:O,rotation:l,scale:M,...B},k){const j=c.useRef(null);c.useImperativeHandle(k,()=>j.current);const m=c.useRef(null);return c.useLayoutEffect(()=>{const a=(y==null?void 0:y.current)||j.current.parent,t=j.current;if(!(a instanceof q))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const e={position:new T,rotation:new P,scale:new T(1,1,1)};if(a){R(e,{position:O,scale:M});const r=a.matrixWorld.clone();if(a.matrixWorld.identity(),!l||typeof l=="number"){const n=new v;n.position.copy(e.position),n.lookAt(a.position),typeof l=="number"&&n.rotateZ(l),R(e,{rotation:n.rotation})}else R(e,{rotation:l});return t.geometry=new rt(a,e.position,e.rotation,e.scale),m.current&&(R(m.current,e),m.current.traverse(n=>n.raycast=()=>null)),a.matrixWorld=r,()=>{t.geometry.dispose()}}},[y,...L(O),...L(M),...L(l)]),c.createElement("mesh",J({ref:j,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":d,"material-depthTest":x,"material-map":w},B),A,p&&c.createElement("mesh",{ref:m},c.createElement("boxGeometry",null),c.createElement("meshNormalMaterial",{wireframe:!0}),c.createElement("axesHelper",null)))}),at=c.forwardRef(({children:o,enabled:p=!0,speed:x=1,rotationIntensity:d=1,floatIntensity:w=1,floatingRange:y=[-.1,.1],...A},O)=>{const l=c.useRef(null),M=c.useRef(Math.random()*1e4);return K(B=>{var k,j;if(!p||x===0)return;const m=M.current+B.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*x)/8*d,l.current.rotation.y=Math.sin(m/4*x)/8*d,l.current.rotation.z=Math.sin(m/4*x)/20*d;let a=Math.sin(m/4*x)/10;a=Q.mapLinear(a,-.1,.1,(k=y==null?void 0:y[0])!==null&&k!==void 0?k:-.1,(j=y==null?void 0:y[1])!==null&&j!==void 0?j:.1),l.current.position.y=a*w,l.current.updateMatrix()}),c.createElement("group",A,c.createElement("group",{ref:Y([l,O]),matrixAutoUpdate:!1},o))}),lt=o=>{const[p]=F([o.imgUrl]);return f.jsxs(at,{speed:2.25,rotationIntensity:1,floatIntensity:3,children:[f.jsx("ambientLight",{intensity:.4}),f.jsx("directionalLight",{position:[0,0,.05]}),f.jsxs("mesh",{castShadow:!0,recieveShadow:!0,scale:2.75,children:[f.jsx("circleGeometry",{}),f.jsx("meshStandardMaterial",{color:"#640064",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),f.jsx(nt,{position:[0,0,0],rotation:[2*Math.PI,0,6.25],scale:1.35,map:p})]})]})},it=({icon:o})=>f.jsx(V,{frameLoop:"demand",gl:{preserveDrawingBuffer:!0},children:f.jsx(c.Suspense,{fallback:f.jsx(ot,{}),children:f.jsx(lt,{imgUrl:o})})}),ut=()=>f.jsxs(f.Fragment,{children:[f.jsx("p",{className:I.sectionSubText,children:"Languages and Tools I use "}),f.jsx("h2",{className:I.sectionHeadText,children:"Tech Stack."}),f.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10 mt-12",children:et.map(o=>f.jsx("div",{className:"w-28 h-28",children:f.jsx(it,{icon:o.icon})},o.name))})]}),pt=tt(ut,"");export{pt as default};
