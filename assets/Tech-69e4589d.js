import{B as X,c as O,M as I,F as R,u as Z,d as L,T as S,r as f,g as q,E as U,h as P,O as v,_ as J,i as K,k as Q,l as Y,j as u,C as V,P as tt,S as et,s as W,n as ot}from"./index-7cab0f5e.js";import{L as rt,O as st}from"./Loader-31e684c7.js";class nt extends X{constructor(p,x,d,b){super();const y=[],A=[],T=[],l=new O,M=new I;M.makeRotationFromEuler(d),M.setPosition(x);const B=new I;B.copy(M).invert(),k(),this.setAttribute("position",new R(y,3)),this.setAttribute("normal",new R(A,3)),this.setAttribute("uv",new R(T,2));function k(){let t,e=[];const r=new O,n=new O;if(p.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const s=p.geometry,E=s.attributes.position,g=s.attributes.normal;if(s.index!==null){const c=s.index;for(t=0;t<c.count;t++)r.fromBufferAttribute(E,c.getX(t)),n.fromBufferAttribute(g,c.getX(t)),w(e,r,n)}else for(t=0;t<E.count;t++)r.fromBufferAttribute(E,t),n.fromBufferAttribute(g,t),w(e,r,n);for(e=m(e,l.set(1,0,0)),e=m(e,l.set(-1,0,0)),e=m(e,l.set(0,1,0)),e=m(e,l.set(0,-1,0)),e=m(e,l.set(0,0,1)),e=m(e,l.set(0,0,-1)),t=0;t<e.length;t++){const c=e[t];T.push(.5+c.position.x/b.x,.5+c.position.y/b.y),c.position.applyMatrix4(M),y.push(c.position.x,c.position.y,c.position.z),A.push(c.normal.x,c.normal.y,c.normal.z)}}function w(t,e,r){e.applyMatrix4(p.matrixWorld),e.applyMatrix4(B),r.transformDirection(p.matrixWorld),t.push(new H(e.clone(),r.clone()))}function m(t,e){const r=[],n=.5*Math.abs(b.dot(e));for(let s=0;s<t.length;s+=3){let E,g,c,F=0,i,h,j,D;const C=t[s+0].position.dot(e)-n,_=t[s+1].position.dot(e)-n,$=t[s+2].position.dot(e)-n;switch(E=C>0,g=_>0,c=$>0,F=(E?1:0)+(g?1:0)+(c?1:0),F){case 0:{r.push(t[s]),r.push(t[s+1]),r.push(t[s+2]);break}case 1:{if(E&&(i=t[s+1],h=t[s+2],j=a(t[s],i,e,n),D=a(t[s],h,e,n)),g){i=t[s],h=t[s+2],j=a(t[s+1],i,e,n),D=a(t[s+1],h,e,n),r.push(j),r.push(h.clone()),r.push(i.clone()),r.push(h.clone()),r.push(j.clone()),r.push(D);break}c&&(i=t[s],h=t[s+1],j=a(t[s+2],i,e,n),D=a(t[s+2],h,e,n)),r.push(i.clone()),r.push(h.clone()),r.push(j),r.push(D),r.push(j.clone()),r.push(h.clone());break}case 2:{E||(i=t[s].clone(),h=a(i,t[s+1],e,n),j=a(i,t[s+2],e,n),r.push(i),r.push(h),r.push(j)),g||(i=t[s+1].clone(),h=a(i,t[s+2],e,n),j=a(i,t[s],e,n),r.push(i),r.push(h),r.push(j)),c||(i=t[s+2].clone(),h=a(i,t[s],e,n),j=a(i,t[s+1],e,n),r.push(i),r.push(h),r.push(j));break}}}return r}function a(t,e,r,n){const s=t.position.dot(r)-n,E=e.position.dot(r)-n,g=s/(s-E);return new H(new O(t.position.x+g*(e.position.x-t.position.x),t.position.y+g*(e.position.y-t.position.y),t.position.z+g*(e.position.z-t.position.z)),new O(t.normal.x+g*(e.normal.x-t.normal.x),t.normal.y+g*(e.normal.y-t.normal.y),t.normal.z+g*(e.normal.z-t.normal.z)))}}}class H{constructor(p,x){this.position=p,this.normal=x}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const N=o=>o===Object(o)&&!Array.isArray(o)&&typeof o!="function";function z(o,p){const x=Z(b=>b.gl),d=L(S,N(o)?Object.values(o):o);if(f.useLayoutEffect(()=>{p==null||p(d)},[p]),f.useEffect(()=>{(Array.isArray(d)?d:[d]).forEach(x.initTexture)},[x,d]),N(o)){const b=Object.keys(o),y={};return b.forEach(A=>Object.assign(y,{[A]:d[b.indexOf(A)]})),y}else return d}z.preload=o=>L.preload(S,o);z.clear=o=>L.clear(S,o);function at(o){return Array.isArray(o)}function G(o=[0,0,0]){return at(o)?o:o instanceof O||o instanceof U?[o.x,o.y,o.z]:[o,o,o]}const lt=f.forwardRef(function({debug:p,depthTest:x=!1,polygonOffsetFactor:d=-10,map:b,mesh:y,children:A,position:T,rotation:l,scale:M,...B},k){const w=f.useRef(null);f.useImperativeHandle(k,()=>w.current);const m=f.useRef(null);return f.useLayoutEffect(()=>{const a=(y==null?void 0:y.current)||w.current.parent,t=w.current;if(!(a instanceof q))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const e={position:new O,rotation:new U,scale:new O(1,1,1)};if(a){P(e,{position:T,scale:M});const r=a.matrixWorld.clone();if(a.matrixWorld.identity(),!l||typeof l=="number"){const n=new v;n.position.copy(e.position),n.lookAt(a.position),typeof l=="number"&&n.rotateZ(l),P(e,{rotation:n.rotation})}else P(e,{rotation:l});return t.geometry=new nt(a,e.position,e.rotation,e.scale),m.current&&(P(m.current,e),m.current.traverse(n=>n.raycast=()=>null)),a.matrixWorld=r,()=>{t.geometry.dispose()}}},[y,...G(T),...G(M),...G(l)]),f.createElement("mesh",J({ref:w,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":d,"material-depthTest":x,"material-map":b},B),A,p&&f.createElement("mesh",{ref:m},f.createElement("boxGeometry",null),f.createElement("meshNormalMaterial",{wireframe:!0}),f.createElement("axesHelper",null)))}),it=f.forwardRef(({children:o,enabled:p=!0,speed:x=1,rotationIntensity:d=1,floatIntensity:b=1,floatingRange:y=[-.1,.1],...A},T)=>{const l=f.useRef(null),M=f.useRef(Math.random()*1e4);return K(B=>{var k,w;if(!p||x===0)return;const m=M.current+B.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*x)/8*d,l.current.rotation.y=Math.sin(m/4*x)/8*d,l.current.rotation.z=Math.sin(m/4*x)/20*d;let a=Math.sin(m/4*x)/10;a=Q.mapLinear(a,-.1,.1,(k=y==null?void 0:y[0])!==null&&k!==void 0?k:-.1,(w=y==null?void 0:y[1])!==null&&w!==void 0?w:.1),l.current.position.y=a*b,l.current.updateMatrix()}),f.createElement("group",A,f.createElement("group",{ref:Y([l,T]),matrixAutoUpdate:!1},o))}),ut=o=>{const[p]=z([o.imgUrl]);return u.jsxs(it,{speed:2.25,rotationIntensity:1,floatIntensity:3,children:[u.jsx("ambientLight",{intensity:.4}),u.jsx("directionalLight",{position:[0,0,.05]}),u.jsxs("mesh",{castShadow:!0,recieveShadow:!0,scale:2.75,children:[u.jsx("icosahedronGeometry",{args:[1,1]}),u.jsx("meshStandardMaterial",{color:"#640064",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),u.jsx(lt,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],map:p})]})]})},ct=({icon:o})=>u.jsxs(V,{frameLoop:"demand",gl:{preserveDrawingBuffer:!0},children:[u.jsxs(f.Suspense,{fallback:u.jsx(rt,{}),children:[u.jsx(st,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),u.jsx(ut,{imgUrl:o})]}),u.jsx(tt,{all:!0})]}),ft=()=>u.jsxs(u.Fragment,{children:[u.jsx("p",{className:W.sectionSubText,children:"Languages and Tools I use "}),u.jsx("h2",{className:W.sectionHeadText,children:"Tech Stack."}),u.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10 mt-12",children:ot.map(o=>u.jsx("div",{className:"w-28 h-28",children:u.jsx(ct,{icon:o.icon})},o.name))})]}),ht=et(ft,"");export{ht as default};
